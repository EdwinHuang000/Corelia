<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./curatedList.css">
    <title>CuratedList</title>
</head>
<body>
    <section id="header">
        <nav class="navbar navbar-expand-md bg-light header">
            <div class="container-fluid">
              
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" >
                <span class="navbar-toggler-icon"></span>
              </button>
              <a class="navbar-brand ms-auto" href="./home.html">
                <img c src="../img/login_logo.jpg" alt="" height="30px">
              </a>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 navList">
                  <li class="nav-item dropdown">
                    <a class="nav-link" aria-current="page" href="./home.html">Home</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a  class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">
                        Blogs</a>
                  
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
              
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                  </ul>
                 </li>
                  <li class="nav-item dropdown">
                    <a  class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">
                        Curated listening lists</a>
                  
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                  </ul>
                 </li>
                 <li class="nav-item dropdown">
                  <a  class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">
                    Composer Profile</a>
                
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                 
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
               </li>
                 <li class="nav-item dropdown">
                    <a  class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" href="#">
                        Forum</a>
                  
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                  </ul>
                 </li>
                </ul>
              
                <form class="d-flex" role="search">
                  <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <button class="btn btn-outline-success" type="submit" >Search</button>
                </form>
                <ul class="nav">
                    <li class="nav-item"><a href="../sign-in/sign-in.html" class="nav-link link-dark px-2">Login</a></li>
                    <li class="nav-item"><a href="../sign up/sign-up.html" class="nav-link link-dark px-2">Sign up</a></li>
                </ul>
              </div>
            </div>
          </nav>
        </section>

        <main>

          <div class="row" id="row1" >


          </div>


        </main>
       
        
        
          <!-- FOOTER -->
          <footer class="container bottom">
            <p class="float-end"><a href="#">Back to top</a></p>
            <p>&copy; 2017â€“2022 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
          </footer>
          <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-analytics.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyBRnn91TxolAL9zwd1BLbbsGU6aZKX0KYM",
              authDomain: "corelia-cd147.firebaseapp.com",
              databaseURL: "https://corelia-cd147-default-rtdb.firebaseio.com",
              projectId: "corelia-cd147",
              storageBucket: "corelia-cd147.appspot.com",
              messagingSenderId: "882147339895",
              appId: "1:882147339895:web:95b7d988c8c37e6cd7e072",
              measurementId: "G-P16FPBNX23"
            };
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            import { getDatabase,get,ref,set,child,update,remove } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
      
            const db=getDatabase();
      
            // create the table 
            var idNum=0;
            var Row=document.getElementById("row1")
          function AddItemToTable(id,composerName,link,dates) {
            let Div=document.createElement("div");
            Div.setAttribute("class", "col-md-4");
            // let td1=document.createElement("td");
            // let td2=document.createElement("td");
            let td3=document.createElement("h2");
            let td4=document.createElement("iframe");
            let td5=document.createElement("p");
      
            // td1.innerHTML=++idNum;
            // td2.innerHTML=id;
            td3.innerHTML=composerName;
            td4.setAttribute("src", link);
            td5.innerHTML=dates; 
      
            // trow.appendChild(td1);
            // trow.appendChild(td2);
            Div.appendChild(td3);
            Div.appendChild(td4);
            Div.appendChild(td5);
            Row.appendChild(Div);


          
          }
       
      
          function AddAllItemToTable(TheNum){
              idNum=0;
               Row.innerHTML="";
             
              TheNum.forEach(element => {
                AddItemToTable(element.ID,element.Name,element.Recording,element.Dates);
              
              });
            }

      
            function GetAllData() {
            const dbRef=ref(db);

      
            get(child(dbRef,"Curated List"))
            .then((snapshot)=>{
              var list=[];
              snapshot.forEach(childSnapshot=>{
                list.push(childSnapshot.val());
      
              })
      
              AddAllItemToTable(list);
      
            });
      
      
        
            
          }     
          window.onload=GetAllData;   
      
          </script>
</body>
</html>